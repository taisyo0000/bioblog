(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/bio-background.a0179b58.jpg"},22:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(17),c=a.n(r),o=a(1),i=(a(27),Object(l.createContext)()),s=(a(4),{fontFamily:"PixelMplus12-Regular",color:"white"}),d={fontFamily:"PixelMplus12-Regular",color:"white",whiteSpace:"pre-line"},u=function(e){var t=e.diary,a=Object(l.useContext)(i).dispatch,r=t.id;return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{style:s},t.createdAt),n.a.createElement("td",{style:d},t.body),n.a.createElement("td",null,n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){a({type:"OPEN_ALERT",id:r})},style:s},"\u524a\u9664"))))},m={fontFamily:"PixelMplus12-Regular",color:"white"},E=function(){var e=Object(l.useContext)(i),t=e.state,a=e.dispatch;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",{className:"text-center",style:m},"taisyo\u306e\u8a18\u9332"),n.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){a({type:"OPEN_DIARYFORM"})},style:m},"\u8a18\u9332\u3092\u3064\u3051\u308b"),n.a.createElement("h4",null,"\u8a18\u9332\u4e00\u89a7"),n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:m},"\u65e5\u6642"),n.a.createElement("th",{style:m},"\u672c\u6587"),n.a.createElement("th",null))),n.a.createElement("tbody",null,t.diaries.map(function(e,t){return n.a.createElement(u,{key:t,diary:e})}))))},b=(a(3),a(9),a(6)),p=a.n(b);a(32);p.a.initializeApp({apiKey:"AIzaSyAmFFo_3aqC3xUwEA7IgaJm9j5S6R7u92U",authDomain:"bioblog-18dc4.firebaseapp.com",databaseURL:"https://bioblog-18dc4.firebaseio.com",projectId:"bioblog-18dc4",storageBucket:"bioblog-18dc4.appspot.com",messagingSenderId:"183391017847",appId:"1:183391017847:web:8ec0ec3e7c617c85e51f72",measurementId:"G-ERKB3CRXGB"});p.a;var f=p.a.firestore(),y={fontFamily:"PixelMplus12-Regular",color:"white"},g={fontFamily:"PixelMplus12-Regular"},h={fontFamily:"PixelMplus12-Bold",color:"white"},O={fontFamily:"PixelMplus12-Regular",color:"white",backgroundColor:"transparent"},v=function(){var e=Object(l.useContext)(i),t=(e.state,e.dispatch),a=Object(l.useState)(""),r=Object(o.a)(a,2),c=r[0],s=r[1],d=Object(l.useState)(""),u=Object(o.a)(d,2),m=u[0],E=u[1],b=""===c;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",{className:"text-center",style:y},"taisyo\u306e\u8a18\u9332"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"formDiaryBody",style:h},"\u8a18\u9332\u3092\u3064\u3051\u308b"),n.a.createElement("textarea",{className:"form-control",id:"formDiaryBody",rows:"10",value:c,onChange:function(e){return s(e.target.value)},style:O,placeholder:"\u8a18\u9332\u3092\u8a18\u5165"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"formPassword",style:h},"\u524a\u9664\u30d1\u30b9\u30ef\u30fc\u30c9"),n.a.createElement("input",{className:"form-control",id:"formPassword",value:m,onChange:function(e){return E(e.target.value)},style:O,placeholder:"\u4f8b\uff1ascdafg"})),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{className:"btn btn-outline-light",onClick:function(e){e.preventDefault(),t({type:"CREATE_DIARY",body:c,password:m,createdAt:(new Date).toISOString()}),t({type:"CLOSE_DIARYFORM"})},disabled:b,style:g},"\u8a18\u9332\u3059\u308b"))),n.a.createElement("button",{className:"btn btn-outline-light",style:g,onClick:function(){t({type:"CLOSE_DIARYFORM"})}},"\u623b\u308b"))},R={fontFamily:"PixelMplus12-Regular"},w=function(){var e=Object(l.useContext)(i),t=e.state,a=e.dispatch,r=Object(l.useState)(""),c=Object(o.a)(r,2),s=c[0],d=c[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"modal fade "+t.alertOpen.state,tabIndex:"-1",role:"dialog","aria-hidden":"true",style:{display:"show"===t.alertOpen.state?"block":""}},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",style:R},"\u8a18\u9332\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"formPassword",style:R},"\u524a\u9664\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),n.a.createElement("input",{className:"form-control",id:"formPassword",value:s,onChange:function(e){return d(e.target.value)},style:R,placeholder:"\u4f8b\uff1ascdafg"})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return a({type:"CLOSE_ALERT"})}},"\u9589\u3058\u308b"),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){t.diaries.filter(function(e){return e.id===t.alertOpen.id})[0].password===s?(a({type:"DELETE_DIARY",id:t.alertOpen.id}),window.alert("\u524a\u9664\u3055\u308c\u307e\u3057\u305f"),a({type:"CLOSE_ALERT"})):(window.alert("\u524a\u9664\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u7570\u306a\u308a\u307e\u3059"),a({type:"CLOSE_ALERT"}))}},"\u524a\u9664"))))))},A=a(18),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"false";switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_DIARYFORM":return!0;case"CLOSE_DIARYFORM":return!1;default:return e}},N=a(12),j=a(11),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DIARY":var a={body:t.body,createdAt:t.createdAt,password:t.password},l=e.length,n=0===l?1:e[l-1].id+1;return f.collection("state").doc("e853GJj2zgmlCbtQ08v9").set({diaries:[].concat(Object(j.a)(e),[Object(N.a)({id:n},a)])}),[].concat(Object(j.a)(e),[Object(N.a)({id:n},a)]);case"DELETE_DIARY":return f.collection("state").doc("e853GJj2zgmlCbtQ08v9").set({diaries:e.filter(function(e){return e.id!==t.id})}),e.filter(function(e){return e.id!==t.id});case"UPDATE_DIARY":return t.diaries;case"DELETE_ALL_DIARIES":return[];default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:"",id:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ALERT":return{state:"show",id:t.id};case"CLOSE_ALERT":return{state:"",id:""};default:return e}},F=Object(A.a)({formOpen:C,diaries:I,alertOpen:D}),x=a(20),L=a.n(x),_=a(21),P={backgroundImage:"url(".concat(L.a,")"),backgroundSize:"cover",width:"100vw",height:"100vh"},S=function(){var e=Object(_.a)(f.collection("state").doc("e853GJj2zgmlCbtQ08v9"),{snapshotListenOptions:{includeMetadataChanges:!0}}),t=Object(o.a)(e,3),a=t[0],r=t[1],c=t[2],s=Object(l.useReducer)(F,{formOpen:!1,alertOpen:{state:"",id:""},diaries:[]}),d=Object(o.a)(s,2),u=d[0],m=d[1];return Object(l.useEffect)(function(){a&&m({type:"UPDATE_DIARY",diaries:a.data().diaries})},[a]),n.a.createElement(i.Provider,{value:{state:u,dispatch:m}},n.a.createElement("div",{className:"container-fluid",style:P},r?n.a.createElement("h1",{key:"error-label"},"Loading"):null,c?n.a.createElement("h1",{key:"error-label"},"Error: ".concat(c.message)):null,a?u.formOpen?n.a.createElement(v,null):n.a.createElement(E,null):null,n.a.createElement(w,null)))};c.a.render(n.a.createElement(S,null),document.getElementById("root"))},4:function(e,t,a){}},[[22,1,2]]]);
//# sourceMappingURL=main.6aab8395.chunk.js.map